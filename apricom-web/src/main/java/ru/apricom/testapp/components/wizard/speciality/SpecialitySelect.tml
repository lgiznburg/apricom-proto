<html xmlns="http://www.w3.org/1999/xhtml" xmlns:t="http://tapestry.apache.org/schema/tapestry_5_3.xsd"
      xmlns:p="tapestry:parameter">
<t:content>

    <t:zone t:id="selectSpecZone" id="selectSpecZone">
        <t:form t:id="specialityForm" id="specialityForm" class="form-horizontal">

            <div class="col-sm-6">
                <table class="table">
                    <tr>
                        <th colspan="4">${message:selectedPrograms}</th>
                    </tr>
                    <tr t:type="loop" source="programs" value="programInList">
                        <td>${programInList.speciality.code} ${programInList.speciality.title} </td>
                        <td>
                            <t:if test="downAllowed">
                                <t:eventlink t:id="elementDown" t:context="currentIndex" async="true">
                                    <span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span>
                                </t:eventlink>
                            </t:if>
                        </td>
                        <td>
                            <t:if test="upAllowed">
                                <t:eventlink t:id="elementUp" t:context="currentIndex" async="true">
                                    <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
                                </t:eventlink>
                            </t:if>
                        </td>
                        <td>
                            <t:eventlink t:id="removeProgram" t:context="currentIndex" async="true">
                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                            </t:eventlink>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="col-sm-6">
                <t:if test="moreSpecialitiesAvailable">
                    <t:select value="chosen" t:id="addNextProgram" model="programSelectModel"
                              t:zone="selectSpecZone" blankLabel="message:add-chose-program"/>
                </t:if>
            </div>

            <div class="form-group">
                <div class="col-sm-12">
                    <h5>${message:exam-results}</h5>
                    <table>
                        <tr>
                            <th>${message:exam-subject}</th>
                            <th>${message:exam-score}</th>
                            <th>${message:exam-year}</th>
                            <th>${message:exam-type}</th>
                        </tr>
                        <tr t:type="loop" source="entrantResults" value="resultInList" formstate="ITERATION">
                            <td>${resultInList.educationalSubject.title}</td>
                            <td>
                                <t:textfield value="resultInList.score"/>
                            </td>
                            <td>
                                <t:select value="resultInList.year" model="lastYears" blankOption="NEVER"/>
                            </td>
                            <td>
                                <t:if test="examAvailable">
                                    <t:select value="resultInList.type" model="examTypeModel" blankOption="NEVER"/>
                                    <p:else>${examTypeName}</p:else>
                                </t:if>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-offset-2 co-s-10">
                    <t:eventlink event="previousStep" class="btn btn-default">${message:back}</t:eventlink>
                    <t:submit class="btn btn-primary" value="${message:save-continue}"/>
                </div>
            </div>

        </t:form>
    </t:zone>


</t:content>
</html>