<html xmlns="http://www.w3.org/1999/xhtml" xmlns:t="http://tapestry.apache.org/schema/tapestry_5_3.xsd"
      xmlns:p="tapestry:parameter">
<t:content>

    <div class="row">
        <h3>${message:campaign-specialty-title}</h3>
    </div>

    <t:zone t:id="selectSpecZone" id="selectSpecZone">
        <t:form t:id="specialityForm" id="specialityForm" class="form-horizontal">

            <div class="row">
                <h4>${message:select-campaign-header}</h4>
            </div>
            <div class="form-group row">
                <div class="col-sm-6">
                    <t:select model="campaignSelectModel" value="helper.admissionCampaign" t:id="selectCampaign" blankOption="ALWAYS" blankLabel="${message:select-campaign}" t:zone="selectSpecZone"/>
                </div>
            </div>

            <t:if test="isCampaignSelected()">
                <div class="row">
                    <h4>${message:add-program-header}</h4>
                </div>
            </t:if>
            <div class="form-group row">
                    <t:if test="isCampaignSelected()">
                        <div class="col-sm-6">
                            <t:if test="moreSpecialitiesAvailable">
                                <t:select value="chosenProgram" t:id="addNextProgram" model="programSelectModel"
                                          t:zone="selectSpecZone" blankLabel="message:add-chose-program"/>
                            </t:if>
                        </div>
                        <div class="col-sm-6">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th colspan="4">${message:selectedPrograms}</th>
                                    </tr>
                                </thead>
                                <tbody class="table-borderless">
                                    <tr t:type="loop" source="programs" value="programInList">
                                        <td>${programInList.speciality.code} ${programInList.speciality.title} </td>
                                        <td>
                                            <t:if test="downAllowed">
                                                <t:eventlink t:id="elementDown" t:context="currentIndex" async="true">
                                                    <span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span>
                                                </t:eventlink>
                                            </t:if>
                                        </td>
                                        <td>
                                            <t:if test="upAllowed">
                                                <t:eventlink t:id="elementUp" t:context="currentIndex" async="true">
                                                    <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
                                                </t:eventlink>
                                            </t:if>
                                        </td>
                                        <td>
                                            <t:eventlink t:id="removeProgram" t:context="currentIndex" async="true">
                                                <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                                            </t:eventlink>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </t:if>
            </div>
            <div class="form-group row" style="margin-top: 10px">
                <div class="col-sm-offset-2 co-s-10 text-right">
                    <t:eventlink event="previousStep" context="stepName" class="btn btn-default">${message:back}</t:eventlink>
                    <t:submit class="btn btn-primary" value="${message:save-continue}"/>
                </div>
            </div>
        </t:form>
    </t:zone>
</t:content>
</html>